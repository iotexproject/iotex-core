// Code generated by idl2go from JSON generated by Barrister v0.1.6
package api

import (
	"fmt"
	"github.com/coopernurse/barrister-go"
	"reflect"
)

const BarristerVersion string = "0.1.6"
const BarristerChecksum string = "1dc5278d22c8f17ff2bc906ccfd20735"
const BarristerDateGenerated int64 = 1549482691258000000

type Explorer interface {
	GetAccount(address string) (string, error)
	GetActions(start int64, count int64) ([]string, error)
	GetAction(actionHash string) (string, error)
	GetActionsByAddress(address string, start int64, count int64) ([]string, error)
	GetUnconfirmedActionsByAddress(address string, offset int64, limit int64) ([]string, error)
	GetActionsByBlock(blkHash string, start int64, count int64) ([]string, error)
	GetBlockMetas(start int64, number int64) ([]string, error)
	GetBlockMeta(blkHash string) (string, error)
	GetChainMeta() (string, error)
	SendAction(request string) (string, error)
	GetReceiptByAction(hash string) (string, error)
	ReadContract(request string) (string, error)
	SuggestGasPrice() (int64, error)
	EstimateGasForAction(request string) (int64, error)
}

func NewExplorerProxy(c barrister.Client) Explorer {
	return ExplorerProxy{c, barrister.MustParseIdlJson([]byte(IdlJsonRaw))}
}

type ExplorerProxy struct {
	client barrister.Client
	idl    *barrister.Idl
}

func (_p ExplorerProxy) GetAccount(address string) (string, error) {
	_res, _err := _p.client.Call("Explorer.getAccount", address)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.getAccount").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf(""), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.(string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.getAccount returned invalid type: %v", _t)
			return "", &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return "", _err
}

func (_p ExplorerProxy) GetActions(start int64, count int64) ([]string, error) {
	_res, _err := _p.client.Call("Explorer.getActions", start, count)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.getActions").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf([]string{}), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.([]string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.getActions returned invalid type: %v", _t)
			return []string{}, &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return []string{}, _err
}

func (_p ExplorerProxy) GetAction(actionHash string) (string, error) {
	_res, _err := _p.client.Call("Explorer.getAction", actionHash)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.getAction").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf(""), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.(string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.getAction returned invalid type: %v", _t)
			return "", &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return "", _err
}

func (_p ExplorerProxy) GetActionsByAddress(address string, start int64, count int64) ([]string, error) {
	_res, _err := _p.client.Call("Explorer.getActionsByAddress", address, start, count)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.getActionsByAddress").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf([]string{}), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.([]string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.getActionsByAddress returned invalid type: %v", _t)
			return []string{}, &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return []string{}, _err
}

func (_p ExplorerProxy) GetUnconfirmedActionsByAddress(address string, offset int64, limit int64) ([]string, error) {
	_res, _err := _p.client.Call("Explorer.getUnconfirmedActionsByAddress", address, offset, limit)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.getUnconfirmedActionsByAddress").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf([]string{}), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.([]string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.getUnconfirmedActionsByAddress returned invalid type: %v", _t)
			return []string{}, &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return []string{}, _err
}

func (_p ExplorerProxy) GetActionsByBlock(blkHash string, start int64, count int64) ([]string, error) {
	_res, _err := _p.client.Call("Explorer.getActionsByBlock", blkHash, start, count)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.getActionsByBlock").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf([]string{}), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.([]string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.getActionsByBlock returned invalid type: %v", _t)
			return []string{}, &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return []string{}, _err
}

func (_p ExplorerProxy) GetBlockMetas(start int64, number int64) ([]string, error) {
	_res, _err := _p.client.Call("Explorer.getBlockMetas", start, number)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.getBlockMetas").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf([]string{}), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.([]string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.getBlockMetas returned invalid type: %v", _t)
			return []string{}, &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return []string{}, _err
}

func (_p ExplorerProxy) GetBlockMeta(blkHash string) (string, error) {
	_res, _err := _p.client.Call("Explorer.getBlockMeta", blkHash)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.getBlockMeta").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf(""), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.(string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.getBlockMeta returned invalid type: %v", _t)
			return "", &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return "", _err
}

func (_p ExplorerProxy) GetChainMeta() (string, error) {
	_res, _err := _p.client.Call("Explorer.getChainMeta")
	if _err == nil {
		_retType := _p.idl.Method("Explorer.getChainMeta").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf(""), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.(string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.getChainMeta returned invalid type: %v", _t)
			return "", &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return "", _err
}

func (_p ExplorerProxy) SendAction(request string) (string, error) {
	_res, _err := _p.client.Call("Explorer.sendAction", request)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.sendAction").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf(""), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.(string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.sendAction returned invalid type: %v", _t)
			return "", &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return "", _err
}

func (_p ExplorerProxy) GetReceiptByAction(hash string) (string, error) {
	_res, _err := _p.client.Call("Explorer.getReceiptByAction", hash)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.getReceiptByAction").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf(""), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.(string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.getReceiptByAction returned invalid type: %v", _t)
			return "", &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return "", _err
}

func (_p ExplorerProxy) ReadContract(request string) (string, error) {
	_res, _err := _p.client.Call("Explorer.readContract", request)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.readContract").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf(""), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.(string)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.readContract returned invalid type: %v", _t)
			return "", &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return "", _err
}

func (_p ExplorerProxy) SuggestGasPrice() (int64, error) {
	_res, _err := _p.client.Call("Explorer.suggestGasPrice")
	if _err == nil {
		_retType := _p.idl.Method("Explorer.suggestGasPrice").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf(int64(0)), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.(int64)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.suggestGasPrice returned invalid type: %v", _t)
			return int64(0), &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return int64(0), _err
}

func (_p ExplorerProxy) EstimateGasForAction(request string) (int64, error) {
	_res, _err := _p.client.Call("Explorer.estimateGasForAction", request)
	if _err == nil {
		_retType := _p.idl.Method("Explorer.estimateGasForAction").Returns
		_res, _err = barrister.Convert(_p.idl, &_retType, reflect.TypeOf(int64(0)), _res, "")
	}
	if _err == nil {
		_cast, _ok := _res.(int64)
		if !_ok {
			_t := reflect.TypeOf(_res)
			_msg := fmt.Sprintf("Explorer.estimateGasForAction returned invalid type: %v", _t)
			return int64(0), &barrister.JsonRpcError{Code: -32000, Message: _msg}
		}
		return _cast, nil
	}
	return int64(0), _err
}

func NewJSONServer(idl *barrister.Idl, forceASCII bool, explorer Explorer) barrister.Server {
	return NewServer(idl, &barrister.JsonSerializer{forceASCII}, explorer)
}

func NewServer(idl *barrister.Idl, ser barrister.Serializer, explorer Explorer) barrister.Server {
	_svr := barrister.NewServer(idl, ser)
	_svr.AddHandler("Explorer", explorer)
	return _svr
}

var IdlJsonRaw = `[
    {
        "type": "comment",
        "name": "",
        "comment": "",
        "value": "Copyright (c) 2019 IoTeX\nThis is an alpha (internal) release and is not suitable for production. This source code is provided 'as is' and no\nwarranties are given as to title or non-infringement, merchantability or fitness for purpose and, to the extent\npermitted by law, all liability for your use of the code is disclaimed. This source code is governed by Apache\nLicense 2.0 that can be found in the LICENSE file.",
        "extends": "",
        "fields": null,
        "values": null,
        "functions": null,
        "barrister_version": "",
        "date_generated": 0,
        "checksum": ""
    },
    {
        "type": "comment",
        "name": "",
        "comment": "",
        "value": "To compile this file:\n1. Install the barrister translator (IDL -\u003e JSON)\nyou need to be root (or use sudo)\npip install barrister",
        "extends": "",
        "fields": null,
        "values": null,
        "functions": null,
        "barrister_version": "",
        "date_generated": 0,
        "checksum": ""
    },
    {
        "type": "comment",
        "name": "",
        "comment": "",
        "value": "2. Install barrister-go\ngo get github.com/coopernurse/barrister-go\ngo install github.com/coopernurse/barrister-go/idl2go",
        "extends": "",
        "fields": null,
        "values": null,
        "functions": null,
        "barrister_version": "",
        "date_generated": 0,
        "checksum": ""
    },
    {
        "type": "comment",
        "name": "",
        "comment": "",
        "value": "3. barrister api.idl | $GOPATH/bin/idl2go -i -p api",
        "extends": "",
        "fields": null,
        "values": null,
        "functions": null,
        "barrister_version": "",
        "date_generated": 0,
        "checksum": ""
    },
    {
        "type": "interface",
        "name": "Explorer",
        "comment": "",
        "value": "",
        "extends": "",
        "fields": null,
        "values": null,
        "functions": [
            {
                "name": "getAccount",
                "comment": "get the address detail of an address\nresponse is the JSON string of AddressDetailsPb",
                "params": [
                    {
                        "name": "address",
                        "type": "string",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": false,
                    "comment": ""
                }
            },
            {
                "name": "getActions",
                "comment": "get list of actions by start index and action count\nresponse is a list of JSON strings of ActionPb",
                "params": [
                    {
                        "name": "start",
                        "type": "int",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    },
                    {
                        "name": "count",
                        "type": "int",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": true,
                    "comment": ""
                }
            },
            {
                "name": "getAction",
                "comment": "get action by action hash\nresponse is a JSON string of ActionPb",
                "params": [
                    {
                        "name": "actionHash",
                        "type": "string",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": false,
                    "comment": ""
                }
            },
            {
                "name": "getActionsByAddress",
                "comment": "get list of actions belonging to an address by start index and action count\nresponse is a list of JSON strings of ActionPb",
                "params": [
                    {
                        "name": "address",
                        "type": "string",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    },
                    {
                        "name": "start",
                        "type": "int",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    },
                    {
                        "name": "count",
                        "type": "int",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": true,
                    "comment": ""
                }
            },
            {
                "name": "getUnconfirmedActionsByAddress",
                "comment": "get list of unconfirmed actions in actpool belonging to an address\nresponse is a list of JSON strings of ActionPb",
                "params": [
                    {
                        "name": "address",
                        "type": "string",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    },
                    {
                        "name": "offset",
                        "type": "int",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    },
                    {
                        "name": "limit",
                        "type": "int",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": true,
                    "comment": ""
                }
            },
            {
                "name": "getActionsByBlock",
                "comment": "get all actions in a block\nresponse is a list of JSON strings of ActionPb",
                "params": [
                    {
                        "name": "blkHash",
                        "type": "string",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    },
                    {
                        "name": "start",
                        "type": "int",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    },
                    {
                        "name": "count",
                        "type": "int",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": true,
                    "comment": ""
                }
            },
            {
                "name": "getBlockMetas",
                "comment": "get list of block metadata by start index and block count\nresponse is a list of JSON strings of BlockMetaPb",
                "params": [
                    {
                        "name": "start",
                        "type": "int",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    },
                    {
                        "name": "number",
                        "type": "int",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": true,
                    "comment": ""
                }
            },
            {
                "name": "getBlockMeta",
                "comment": "get block metadata by block hash\nresponse is a JSON string of BlockMetaPb",
                "params": [
                    {
                        "name": "blkHash",
                        "type": "string",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": false,
                    "comment": ""
                }
            },
            {
                "name": "getChainMeta",
                "comment": "get chain metadata\nreturn value is a JSON string of ChainMetaPb",
                "params": [],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": false,
                    "comment": ""
                }
            },
            {
                "name": "sendAction",
                "comment": "sendAction\nrequest is a JSON string of ActionPb\nresponse is the hash of action",
                "params": [
                    {
                        "name": "request",
                        "type": "string",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": false,
                    "comment": ""
                }
            },
            {
                "name": "getReceiptByAction",
                "comment": "get receipt by action Hash\nresponse is a JSON string of ReceiptPb",
                "params": [
                    {
                        "name": "hash",
                        "type": "string",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": false,
                    "comment": ""
                }
            },
            {
                "name": "readContract",
                "comment": "TODO: read contract\nrequest is a JSON string of ActionPb\nresponse is the return value of receipt",
                "params": [
                    {
                        "name": "request",
                        "type": "string",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "string",
                    "optional": false,
                    "is_array": false,
                    "comment": ""
                }
            },
            {
                "name": "suggestGasPrice",
                "comment": "suggest gas price",
                "params": [],
                "returns": {
                    "name": "",
                    "type": "int",
                    "optional": false,
                    "is_array": false,
                    "comment": ""
                }
            },
            {
                "name": "estimateGasForAction",
                "comment": "estimate gas for action\nrequest is a JSON string of ActionPb",
                "params": [
                    {
                        "name": "request",
                        "type": "string",
                        "optional": false,
                        "is_array": false,
                        "comment": ""
                    }
                ],
                "returns": {
                    "name": "",
                    "type": "int",
                    "optional": false,
                    "is_array": false,
                    "comment": ""
                }
            }
        ],
        "barrister_version": "",
        "date_generated": 0,
        "checksum": ""
    },
    {
        "type": "meta",
        "name": "",
        "comment": "",
        "value": "",
        "extends": "",
        "fields": null,
        "values": null,
        "functions": null,
        "barrister_version": "0.1.6",
        "date_generated": 1549482691258,
        "checksum": "1dc5278d22c8f17ff2bc906ccfd20735"
    }
]`
